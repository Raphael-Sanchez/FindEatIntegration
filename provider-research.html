<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Find Eat</title>
    <!-- CSS -->
    <link rel="stylesheet" href="provider-research.css">
    <link rel="stylesheet" href="bootstrap-3.3.7/css/bootstrap.min.css">
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <a href="https://www.raphaelsanchez.fr/projets/findeat/home.php"><img src="assets/icons/logo-find-eat.png" alt="logo find eat" id="logo-find-eat"></a>
        <div id="block-btn">
            <a href="https://www.raphaelsanchez.fr/projets/findeat/basket.php">
                <div class="btn-basket"><img src="assets/icons/basket.png" alt="icon basket"></div>
            </a>
            <!--<a href="#"><input type="button" class="btn-navbar" id="btn-registration" value="Inscription"></a>-->
            <!--<a href="#"><input type="button" class="btn-navbar" id="btn-login" value="Connexion"></a>-->
        </div>
    </nav>

    <div class="container-fluid">
        <div id="video-wallpaper">
            <p id="title-wallpaper">BIENVENUE <br>CHEZ FIND EAT</p>
            <p id="text-wallpaper">Plateforme de mise en relation <br>entre restaurateurs et grossiste</p>
        </div>
    </div>

    <div id="big-block-result" style="display: none">
        <div class="container-fluid">
            <div id="block-number-page">
                <span id="nbr-result">0</span>&nbsp;résultats trouvés
                <div>
                    <a href="#" class="link-nbr"><span class="number">1</span></a>
                    <!--<a href="#" class="link-nbr"><span class="number">2</span></a> - -->
                    <!--<a href="#" class="link-nbr"><span class="number">3</span></a> - -->
                    <!--<a href="#" class="link-nbr"><span class="number">4</span></a> - -->
                    <!--<a href="#" class="link-nbr"><span class="number">5</span></a> - -->
                    <!--<a href="#" class="link-nbr"><span class="number">6</span></a>-->
                </div>
                <div id="block-research">
                    <input type="text" id="research" placeholder="Rechercher un fournisseur par son nom">
                    <a id="showFilters"><input type="button" id="btn-filters" value="Filtres"></a>
                </div>
            </div>
        </div>

        <div class="container">
            <div id="block-filters">
                <div id="arrow-top"></div>
                <ul class="ul-filters">
                    <li>
                        <div class="title-filters">Type de produits</div>
                        <div class="block-filters first">
                            <a href="#"><div class="front-of-checkbox-small" id="f-fruits"><input type="checkbox" class="input-check-filters" id="fruits"></div></a>
                            <div class="text-input-filters">Fruits</div>
                        </div>
                        <div class="block-filters">
                            <a href="#"><div class="front-of-checkbox-small" id="f-legumes"><input type="checkbox" class="input-check-filters" id="legumes"></div></a>
                            <div class="text-input-filters">Légumes</div>
                        </div>
                        <div class="block-filters">
                            <a href="#"><div class="front-of-checkbox-small" id="f-boissons"><input type="checkbox" class="input-check-filters" id="boissons"></div></a>
                            <div class="text-input-filters">Boissons</div>
                        </div>
                        <div class="block-filters">
                            <a href="#"><div class="front-of-checkbox-small" id="f-sauces"><input type="checkbox" class="input-check-filters" id="sauces"></div></a>
                            <div class="text-input-filters">Sauces</div>
                        </div>
                    </li>
                    <li>
                        <div class="title-filters">Type de Labels</div>
                        <div class="block-filters first">
                            <a href="#"><div class="front-of-checkbox-small" id="f-bio"><input type="checkbox" class="input-check-filters" id="bio"></div></a>
                            <div class="text-input-filters">Bio</div>
                        </div>
                        <div class="block-filters">
                            <a href="#"><div class="front-of-checkbox-small" id="f-equitable"><input type="checkbox" class="input-check-filters" id="equitable"></div></a>
                            <div class="text-input-filters">Équitable</div>
                        </div>
                        <div class="block-filters">
                            <a href="#"><div class="front-of-checkbox-small" id="f-labelrouge"><a href="#"><input type="checkbox" class="input-check-filters" id="labelrouge"></a></div></a>
                            <div class="text-input-filters">Label Rouge</div>
                        </div>
                        <div class="block-filters">
                            <a href="#"><div class="front-of-checkbox-small" id="f-aoc"><input type="checkbox" class="input-check-filters" id="aoc"></div></a>
                            <div class="text-input-filters">Appellation d'origine contrôlée</div>
                        </div>
                    </li>
                    <li class="li-last">
                        <div class="title-filters">Localisation</div>
                        <div>
                            <div class="front-of-checkbox check-2km" id="2km"><a href="#">> 2km<input type="checkbox" class="checkbox-hide"></a></div>
                            <div class="front-of-checkbox check-5km" id="5km"><a href="#">5km<input type="checkbox" class="checkbox-hide"></a></div>
                        </div>
                        <div>
                            <div class="front-of-checkbox check-8km" id="8km"><a href="#">8km<input type="checkbox" class="checkbox-hide"></a></div>
                            <div class="front-of-checkbox check-10km" id="10km"><a href="#">10km<input type="checkbox" class="checkbox-hide"></a></div>
                        </div>
                        <div class="front-of-checkbox check-doesnt-matter" id="doesnt-matter"><a href="#">Peu importe<input type="checkbox" class="checkbox-hide"></a></div>
                    </li>
                </ul>

                <a href="#" id="btn-reset-research">
                    <div class="btn-action-filters">EFFACER LA SELECTION</div>
                </a>
                <a href="#" id="btn-confirm-research">
                    <div class="btn-action-filters">RECHERCHER</div>
                </a>

            </div>
        </div>

        <div class="container fruits legumes bio equitable block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/peyraud.jpg');">
                        <a href="#" class="peyraud-75016" id="ABC-Peyraud"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">ABC Peyraud</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75016</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container fruits legumes boissons aoc block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/dynamis.jpg');">
                        <a href="#" class="dynamis-75002" id="Dynamis"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Dynamis</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75002</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container sauces labelrouge block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/fruitsfrance.jpg');">
                        <a href="#" class="fruitsfrance-75018" id="Fruits-France"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Fruits France</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75018</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container fruits legumes bio equitable block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/innofruit.jpg');">
                        <a href="#" class="innofruit-75015" id="Inno-Fruit"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Inno Fruits</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75015</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container legumes sauces labelrouge block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/francefood.jpg');">
                        <a href="#" class="francefood-75004" id="France-Food"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">France Food</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75004</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container legumes fruits boissons aoc labelrouge block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/terroirselect.jpg');">
                        <a href="#" class="terroirselect-75017" id="Terroir-Select"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Terroir Select</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75017</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container fruits legumes bio block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/vergerparisien.jpg');">
                        <a href="#" class="vergerparisien-75008" id="Le-Verger-Parisien"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Le Verger Parisien</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75008</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container boissons sauces aoc block-provider style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/madeinparis.jpg');">
                        <a href="#" class="madeinparis-75014" id="Made-In-Paris"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Made In Paris</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75014</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container fruits bio equitable block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/fruitsaubureau.jpg');">
                        <a href="#" class="fruitsaubureau-75001" id="Fruit-au-Bureau"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Fruit au Bureau</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75001</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="container fruits legumes bio equitable block-provider" style="display: none">
            <div class="block-result">
                <div class="col-sm-offset-1 col-sm-5 col-md-offset-1 col-md-5 col-lg-offset-1 col-lg-5">
                    <div class="img-restaurant" style="background-image: url('assets/provider/sarllesfruitiers.jpg');">
                        <a href="#" class="sarllesfruitiers-75005" id="Les-Fruitiers"><div class="see-restaurant">Voir ce fournisseur</div></a>
                    </div>
                </div>
                <div class="col-sm-offset-1 col-sm-5 col-md-5 col-lg-5">
                    <div class="block-text-restau">
                        <div class="title-restaurant">Les Fruitiers</div>
                        <div class="block-location">
                            <img src="assets/icons/location.png" alt="icon location" class="icon-location">
                            <span class="adress-location">Paris 75005</span>
                        </div>
                        <div class="block-location">
                            <a href="">
                                <img src="assets/icons/comment.png" alt="icon comment" class="icon-location">
                                <span class="adress-location">Voir les commentaires</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="block-loader">
        <div class="signal-loader"></div>
        <p>Veuillez patienter, recherche de fournisseurs en cours ...</p>
    </div>


    <footer>
        <div class="container">
            <div class="col-sm-12">
                <img src="assets/images/findeat-footer.png" alt="logo findeat" id="findeat-logo-footer">
                <a href="#"><img src="assets/icons/instagram.png" alt="logo instagram" class="logo-footer"></a>
                <a href="#"><img src="assets/icons/facebook.png" alt="logo facebook" class="logo-footer right-10"></a>
                <a href="#"><img src="assets/icons/twitter.png" alt="logo twitter" class="logo-footer right-10"></a>
                <div id="hr-footer"></div>
            </div>
        </div>
        <div class="container">
            <div class="col-xs-12 col-sm-12 col-lg-offset-1 col-lg-10">
                <div class="col-xs-6 col-sm-offset-1 col-sm-3 col-md-offset-1 col-md-3 col-lg-offset-0 col-lg-4">
                    <ul class="footer-ul">
                        <li class="title-footer-li">INFORMATION</li>
                        <li><a href="#" class="link-footer">A PROPOS</a></li>
                        <li><a href="#" class="link-footer">NOS SERVICES</a></li>
                        <li><a href="#" class="link-footer">MON COMPTE</a></li>
                    </ul>
                </div>
                <div class="col-xs-6 col-sm-3 col-md-3 col-lg-4">
                    <ul class="footer-ul">
                        <li class="title-footer-li">SERVICE CLIENT</li>
                        <li><a href="#" class="link-footer">FAQ</a></li>
                        <li><a href="#" class="link-footer">NOUS CONTACTER</a></li>
                        <li><a href="#" class="link-footer">CGU/CGV</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                    <ul class="footer-ul">
                        <li class="title-footer-li">S&apos;INSCRIRE À LA NEWSLETTER</li>
                        <li>
                            <input type="email" placeholder="ADRESSE MAIL" id="email-newsletter">
                            <a href="#"><span id="icon-email-news"></span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>


</body>
<!-- SCRIPTS -->
<script src="bootstrap-3.3.7/js/jquery-3.1.1.min.js"></script>
<script src="bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script>
    jQuery(function ($)
    {
        // RECHERCHE LANCEE SUR LES FILTRES DE LA MODAL
        filtersResearch();

        // ACTIVATION DU LOADER AU CHARGEMENT DE LA PAGE
        setTimeout(function()
        {
            $('#block-loader').hide();
            $('#big-block-result').show();
        }, 1600);

        function filtersResearch()
        {
            sessionFilters = sessionStorage.getItem('filters');

            if (sessionFilters != null)
            {
                if (sessionFilters.length > 0)
                {
                    var splitFilters = sessionFilters.split(',');

                    var count = 0;
                    var nmbElemt = 0;

                    // CACHE TOUT LES FOURNISSEURS
                    $('.block-provider').css('display', 'none');

                    splitFilters.forEach(function (element) {
                        var elem = '.' + element;
                        nmbElemt += $(elem).length;
                        $(elem).show();
                    });

                    if (nmbElemt.length < 0)
                    {
                        nmbElemt = 0;
                    }

                    $('#nbr-result').html(nmbElemt);
                }
            }
        }

        $('.img-restaurant a').on('click', function (e)
        {
            e.preventDefault();
            var imageAndPostalProvider = $(this).attr('class');
            imageAndPostalProvider = imageAndPostalProvider.split('-');

            var imageProvider = imageAndPostalProvider[0];
            var postalCode = imageAndPostalProvider[1];

            sessionStorage.removeItem("postalCode");
            sessionStorage.removeItem("imageProvider");
            sessionStorage.removeItem("nameProvider");

            sessionStorage.setItem('postalCode', postalCode);
            sessionStorage.setItem('imageProvider', imageProvider);

            var nameProvider = $(this).attr('id');
            nameProvider = nameProvider.replace('-', ' ');
            nameProvider = nameProvider.replace('-', ' ');

            sessionStorage.setItem('nameProvider', nameProvider);

//                        location.href = 'provider-profil.html';
            location.href = 'https://www.raphaelsanchez.fr/projets/findeat/provider-profil.php';
        });

        $('#showFilters').click(function ()
        {
            $('#block-filters').toggle();
        });

        $('.front-of-checkbox').on('click', function (e)
        {
            e.preventDefault();
            $('.front-of-checkbox').removeClass('check-filters-clicked');
            $('.front-of-checkbox').find('input.checkbox-hide').prop('checked', false);
            $(this).addClass('check-filters-clicked');

            var inputIdCheckbox = $(this).find('input').attr('id');
            $('input#' + inputIdCheckbox).prop('checked', true);
        });

        $('.front-of-checkbox-small').on('click', function (e)
        {
            e.preventDefault();
            var inputIdCheckbox = $(this).find('.input-check-filters').attr('id');

            if ($('#'+ inputIdCheckbox).is(':checked'))
            {
                $('#'+ inputIdCheckbox).prop('checked', false);
                $(this).removeClass('checked-filters');
            }
            else
            {
                $('#'+ inputIdCheckbox).prop('checked', true);
                $(this).addClass('checked-filters');
            }
        });

        $('#btn-reset-research').on('click', function (e)
        {
            e.preventDefault();
            $('.front-of-checkbox-small').removeClass('checked-filters');
            $('.front-of-checkbox').removeClass('check-filters-clicked');
        });

        $('#btn-confirm-research').on('click', function (e)
        {
            e.preventDefault();

            var checked = [];
            $('.front-of-checkbox-small').each(function ()
            {
                if ($(this).hasClass('checked-filters'))
                {
                    var filter = $(this).attr('id').replace('f-', '');
                    checked.push(filter);
                }
            });

            $('#block-filters').toggle();
            $('#big-block-result').hide();
            $('#block-loader').show();

            setTimeout(function()
            {
                $('#block-loader').hide();
                $('#big-block-result').show();
            }, 1600);

            // NOUVEAU FILTRES APPEL DE LA FUNCTION QUI FILTRE LA LISTE
            sessionStorage.setItem('filters', checked);
            filtersResearch();
        });
    });
</script>
</html>